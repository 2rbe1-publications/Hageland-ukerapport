<!DOCTYPE html>
<html lang="no">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>Hageland – Ukesrapport</title>
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:Georgia,serif;background:#f0f4ee;color:#1b3a2d;min-height:100vh}
.header{background:linear-gradient(120deg,#1b3a2d 0%,#2d5a3d 100%);color:#fff;padding:28px 40px 0}
.header-top{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:20px;flex-wrap:wrap;gap:12px}
.header-eyebrow{font-size:10px;letter-spacing:3px;text-transform:uppercase;opacity:.6;margin-bottom:6px}
.header-title{font-size:30px;font-weight:400;letter-spacing:-0.5px}
.header-date{font-size:12px;opacity:.55;margin-top:4px;text-transform:capitalize}
.header-right{text-align:right}
.header-right .big{font-size:26px;font-weight:800}
.header-right .sub{font-size:11px;opacity:.6}
.header-right .neg{font-size:12px;color:#ffb3b3;margin-top:2px}
.tabs{display:flex;gap:5px;overflow-x:auto;padding-bottom:0}
.tab{background:rgba(255,255,255,.07);border:1px solid rgba(255,255,255,.15);border-bottom:none;color:#fff;border-radius:8px 8px 0 0;padding:8px 20px;font-size:12px;cursor:pointer;font-family:inherit;white-space:nowrap;transition:background .15s}
.tab:hover{background:rgba(255,255,255,.15)}
.tab.active{background:#f0f4ee;color:#1b3a2d;font-weight:700;padding-bottom:9px;margin-bottom:-1px}
.content{padding:28px 40px;max-width:1200px;margin:0 auto}
.kpi-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:12px;margin-bottom:22px}
.kpi-card{background:#fff;border-radius:12px;padding:16px 15px;box-shadow:0 2px 12px rgba(0,0,0,.06)}
.kpi-label{font-size:10px;letter-spacing:1.5px;text-transform:uppercase;color:#7a8f7a;margin-bottom:7px}
.kpi-value{font-size:21px;font-weight:800;color:#1b3a2d;line-height:1.1}
.kpi-change{font-size:12px;font-weight:600;margin-top:4px}
.up{color:#2d7a50}.dn{color:#e63946}
.card{background:#fff;border-radius:14px;padding:22px;box-shadow:0 2px 12px rgba(0,0,0,.05);margin-bottom:16px}
.card h4{font-size:13px;color:#1b3a2d;margin-bottom:16px;font-weight:700;letter-spacing:.3px}
.two-col{display:grid;grid-template-columns:1.3fr 1fr;gap:16px}
.bar-chart{display:flex;flex-direction:column;gap:8px}
.bar-row{display:flex;align-items:center;gap:10px}
.bar-label{width:90px;font-size:11px;color:#556;flex-shrink:0;text-align:right}
.bar-track{flex:1;background:#eef3ee;border-radius:6px;height:24px;overflow:hidden}
.bar-fill{height:100%;border-radius:6px;display:flex;align-items:center;padding-left:8px;font-size:11px;font-weight:700;color:#fff;min-width:4px}
.bar-val{width:70px;font-size:11px;font-weight:700;color:#1b3a2d;text-align:right;flex-shrink:0}
.hbar-chart{display:flex;flex-direction:column;gap:10px}
.hbar-row{display:flex;align-items:center;gap:10px}
.hbar-label{width:75px;font-size:12px;font-weight:600;flex-shrink:0}
.hbar-track{flex:1;background:#eef3ee;border-radius:6px;height:28px;overflow:hidden}
.hbar-fill{height:100%;border-radius:6px;display:flex;align-items:center;padding-left:10px;font-size:12px;font-weight:700;color:#fff}
.db-bars{display:flex;flex-direction:column;gap:7px;margin-top:6px}
.db-row{display:flex;align-items:center;gap:8px}
.db-label{width:85px;font-size:11px;color:#7a8f7a;flex-shrink:0}
.db-track{flex:1;background:#eef3ee;border-radius:4px;height:7px;overflow:hidden}
.db-fill{height:100%;border-radius:4px}
.db-val{width:38px;font-size:11px;font-weight:700;text-align:right;flex-shrink:0}
table{width:100%;border-collapse:collapse;font-size:12px}
th{font-size:10px;letter-spacing:.5px;text-transform:uppercase;color:#7a8f7a;font-weight:700;padding:7px 10px;border-bottom:2px solid #dce8dc;text-align:right}
th:first-child{text-align:left}
td{padding:8px 10px;border-bottom:1px solid #eef3ee;text-align:right}
td:first-child{text-align:left;font-weight:600}
tr:nth-child(even) td{background:#fafcfa}
.avg-row td{background:#eef8f2!important;font-weight:700;color:#2d7a50;border-top:2px solid #dce8dc}
.dot{display:inline-block;width:10px;height:10px;border-radius:50%;margin-right:7px;vertical-align:middle}
.trend-chart{display:flex;flex-direction:column;gap:10px}
.trend-row{display:flex;align-items:center;gap:8px}
.trend-label{width:75px;font-size:12px;font-weight:600;flex-shrink:0}
.trend-track{flex:1;position:relative;height:26px}
.trend-zero{width:1px;background:#bbb;height:100%;position:absolute;top:0}
.trend-bar{height:22px;border-radius:4px;position:absolute;top:2px;display:flex;align-items:center;padding:0 7px;font-size:11px;font-weight:700;color:#fff;white-space:nowrap}
.trend-val{width:55px;font-size:12px;font-weight:700;text-align:right;flex-shrink:0}
.top10-list{display:flex;flex-direction:column;gap:5px}
.top10-row{display:flex;align-items:center;gap:10px;padding:5px 8px;border-radius:7px;background:#fafcfa;border:1px solid #eef3ee}
.top10-rank{width:22px;height:22px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:800;color:#fff;flex-shrink:0}
.top10-name{flex:1;font-size:12px;font-weight:600}
.top10-cat{font-size:10px;color:#7a8f7a;flex-shrink:0}
.top10-val{font-size:12px;font-weight:800;color:#1b3a2d;text-align:right;flex-shrink:0;width:65px}
.store-badge{display:inline-block;padding:4px 14px;border-radius:20px;font-size:12px;font-weight:700;color:#fff;margin-bottom:18px}
footer{text-align:center;padding:16px;font-size:11px;color:#9aaa9a}
@media(max-width:900px){.kpi-grid{grid-template-columns:repeat(2,1fr)}.two-col{grid-template-columns:1fr}.content{padding:16px}.header{padding:20px 16px 0}}
</style>
</head>
<body>
<div class="header">
  <div class="header-top">
    <div>
      <div class="header-eyebrow">Hageland &middot; Ukesrapport</div>
      <div class="header-title">Butikkoversikt</div>
      <div class="header-date" id="todayDate"></div>
    </div>
    <div class="header-right">
      <div class="sub">Øvstebø-hagesentrene omsetning uke 8, 2026</div>
      <div class="big">7 598 484 kr</div>
      <div class="neg">&#9660; 11,5% vs. fjoråret</div>
    </div>
  </div>
  <div class="tabs" id="tabBar"></div>
</div>
<div class="content" id="mainContent"></div>
<footer>Kilde: Hageland Seebrite &middot; Uke 8, 2026</footer>

<script>
var STORES = {
  "Kolsas":   {name:"Kolsås",  color:"#2d6a4f", salg:98975,  salgPct:-13.4, db:48.0, dbDiff:-8.0,  kunder:268, kunderPct:-21.6, krKunde:376, krKundeDiff:36,   kampanje:10613, kampanjePct:10.7, vg:[["Inneplanter",20305,42.9],["Frø og løk",12711,57.1],["Dekor",9713,56.1],["Pet",8353,60.6],["Hageredskap",8074,55.2],["Snittblomst",7380,45.5]], top10:[["Orkide hvit stor","Inneplanter",1240],["Amaryllis rød","Inneplanter",980],["Rosenbukett","Snittblomst",860],["Kaktus 12cm","Inneplanter",740],["Fuglebad keramikk","Dekor",690],["Lykta Margrethe","Dekor",620],["Jordbær pluggplanter","Frø og løk",580],["Kattemynte","Frø og løk",540],["Hamster mix fôr","Pet",510],["Gressklipperolje","Hageredskap",480]]},
  "Assiden":  {name:"Åssiden", color:"#3a9b6a", salg:66765,  salgPct:-48.0, db:54.7, dbDiff:-1.0,  kunder:275, kunderPct:-24.5, krKunde:250, krKundeDiff:-110, kampanje:10281, kampanjePct:15.4, vg:[["Inneplanter",18557,49.5],["Pet",8542,48.4],["Snittblomst",7384,47.3],["Dekor",5807,65.1],["Jord/gjødsel",5316,77.3],["Frø og løk",4772,56.8]], top10:[["Orkide lilla","Inneplanter",1100],["Snittblomst mix","Snittblomst",950],["Kanin startpakke","Pet",820],["Rosenbukett","Snittblomst",770],["Torvstrø 60L","Jord/gjødsel",700],["Stearinlys hvit","Dekor",660],["Sommerblomst mix","Frø og løk",590],["Pelargonia","Inneplanter",550],["Hundemat Premium","Pet",510],["Plantepinne","Inneplanter",470]]},
  "Notodden": {name:"Notodden",color:"#b88800", salg:53981,  salgPct:-21.8, db:55.2, dbDiff:4.6,   kunder:217, kunderPct:-7.3,  krKunde:256, krKundeDiff:-46,  kampanje:6996,  kampanjePct:13.0, vg:[["Inneplanter",16644,55.9],["Jord/gjødsel",7018,73.5],["Pet",6436,40.8],["Frø og løk",4418,58.3],["Hageredskap",4394,61.2],["Dekor",4391,57.3]], top10:[["Orkide hvit stor","Inneplanter",990],["Blomsterkompost 40L","Jord/gjødsel",880],["Gressfrø 1kg","Frø og løk",750],["Katt tørmat","Pet",690],["Hageskje sett","Hageredskap",640],["Sommerblomst mix","Frø og løk",590],["Stearinlys","Dekor",540],["Pelargonia","Inneplanter",510],["Universalgjødsel","Jord/gjødsel",480],["Frøblanding vill","Frø og løk",440]]},
  "Sande":    {name:"Sande",   color:"#c05a35", salg:101816, salgPct:-13.2, db:50.4, dbDiff:-3.4,  kunder:374, kunderPct:-12.0, krKunde:280, krKundeDiff:-2,   kampanje:10393, kampanjePct:10.2, vg:[["Pet",21386,40.6],["Inneplanter",20095,59.0],["Snittblomst",17181,53.8],["Mat",9484,44.4],["Dekor",6876,57.5],["Innepotter",4947,60.4]], top10:[["Hundemat Premium","Pet",1450],["Rosenbukett","Snittblomst",1280],["Orkide hvit","Inneplanter",1100],["Katt vomit pouch","Pet",980],["Plastpotte 14cm","Innepotter",860],["Rørlegg stilk","Snittblomst",790],["Brødmix hvete","Mat",730],["Flamingoplante","Inneplanter",680],["Fuglemix frø","Pet",640],["Dekorgrein","Dekor",590]]},
  "Horten":   {name:"Horten",  color:"#35608a", salg:80343,  salgPct:-11.0, db:52.1, dbDiff:-3.0,  kunder:337, kunderPct:-8.7,  krKunde:248, krKundeDiff:-3,   kampanje:17120, kampanjePct:21.3, vg:[["Inneplanter",19960,49.2],["Snittblomst",10608,47.9],["Pet",9033,43.5],["Frø og løk",8697,56.7],["Dekor",7137,54.6],["Jord/gjødsel",7081,77.7]], top10:[["Rosenbukett","Snittblomst",1320],["Orkide mix","Inneplanter",1180],["Gressfrø 1kg","Frø og løk",990],["Blomsterkompost 40L","Jord/gjødsel",870],["Kanin mix fôr","Pet",760],["Lyktepærer LED","Dekor",710],["Snittblomst mix","Snittblomst",680],["Pelargonia","Inneplanter",640],["Torv 70L","Jord/gjødsel",590],["Hageskje sett","Frø og løk",540]]}
};
var KEYS = Object.keys(STORES);

function fmt(n){ return Math.round(n).toLocaleString("nb-NO"); }
function arrow(v,s){ s=s||""; return v>=0?'<span class="up">&#9650; '+Math.abs(v).toFixed(1)+s+'</span>':'<span class="dn">&#9660; '+Math.abs(v).toFixed(1)+s+'</span>'; }

function kpiCards(d){
  var items=[["Salg",fmt(d.salg)+" kr",Math.abs(d.salgPct).toFixed(1)+"%",d.salgPct>=0],["DB %",d.db+"%",Math.abs(d.dbDiff).toFixed(1)+" pp",d.dbDiff>=0],["Kunder",fmt(d.kunder),Math.abs(d.kunderPct).toFixed(1)+"%",d.kunderPct>=0],["Kr / kunde",fmt(d.krKunde)+" kr",Math.abs(d.krKundeDiff)+" kr",d.krKundeDiff>=0],["Kampanje",fmt(d.kampanje)+" kr",d.kampanjePct+"% av total",true]];
  return '<div class="kpi-grid">'+items.map(function(i){return '<div class="kpi-card" style="border-top:3px solid '+(i[3]?'#2d7a50':'#e63946')+'"><div class="kpi-label">'+i[0]+'</div><div class="kpi-value">'+i[1]+'</div><div class="kpi-change '+(i[3]?'up':'dn')+'">'+(i[3]?'&#9650;':'&#9660;')+' '+i[2]+'</div></div>';}).join('')+'</div>';
}

function barChart(vg,color){
  var max=0; for(var i=0;i<vg.length;i++){if(vg[i][1]>max)max=vg[i][1];}
  return '<div class="bar-chart">'+vg.map(function(v){var w=Math.round(v[1]/max*100);return '<div class="bar-row"><div class="bar-label">'+v[0]+'</div><div class="bar-track"><div class="bar-fill" style="width:'+w+'%;background:'+color+'">'+(w>25?fmt(v[1]):'')+'</div></div><div class="bar-val">'+(w<=25?fmt(v[1]):'')+'</div></div>';}).join('')+'</div>';
}

function dbBars(vg){
  return '<div class="db-bars">'+vg.slice(0,5).map(function(v){return '<div class="db-row"><div class="db-label">'+v[0]+'</div><div class="db-track"><div class="db-fill" style="width:'+v[2]+'%;background:'+(v[2]>60?'#2d7a50':'#74c69d')+'"></div></div><div class="db-val '+(v[2]>50?'up':'dn')+'">'+v[2]+'%</div></div>';}).join('')+'</div>';
}

function top10Box(d){
  var colors=["#1b3a2d","#2d6a4f","#3a9b6a","#5aba88","#74c69d","#95d5b2","#b7e4c7","#d8f3dc","#e6f7ed","#f0fcf4"];
  var rows=d.top10.map(function(p,i){
    return '<div class="top10-row"><div class="top10-rank" style="background:'+colors[i]+'">'+( i+1)+'</div><div class="top10-name">'+p[0]+'</div><div class="top10-cat">'+p[1]+'</div><div class="top10-val">'+fmt(p[2])+' kr</div></div>';
  }).join('');
  return '<div class="card"><h4>&#127942; Ti på topp &ndash; produkter denne uken</h4><div class="top10-list">'+rows+'</div></div>';
}

function storeView(key){
  var d=STORES[key];
  return '<div class="store-badge" style="background:'+d.color+'">'+d.name+'</div>'+kpiCards(d)+'<div class="two-col"><div class="card"><h4>Salg per varegruppe (kr)</h4>'+barChart(d.vg,d.color)+'</div><div class="card"><h4>Dekningsbidrag per varegruppe</h4>'+dbBars(d.vg)+'<div style="margin-top:20px;padding:14px;background:#f4f9f4;border-radius:10px;border:1px solid #d0e8d0"><div style="font-size:11px;color:#7a8f7a;margin-bottom:4px">Kampanjesalg denne uken</div><div style="font-size:20px;font-weight:800;color:#1b3a2d">'+fmt(d.kampanje)+' kr</div><div style="font-size:12px;color:#2d7a50;margin-top:3px">'+d.kampanjePct+'% av totalt salg</div></div></div></div>'+top10Box(d);
}

function compareView(){
  var maxSalg=0; for(var i=0;i<KEYS.length;i++){if(STORES[KEYS[i]].salg>maxSalg)maxSalg=STORES[KEYS[i]].salg;}
  var sum=0; for(var i=0;i<KEYS.length;i++){sum+=STORES[KEYS[i]].salg;} var avg=Math.round(sum/KEYS.length);
  var rows=KEYS.map(function(k){var d=STORES[k];return '<tr><td><span class="dot" style="background:'+d.color+'"></span>'+d.name+'</td><td><b>'+fmt(d.salg)+'</b></td><td>'+arrow(d.salgPct,'%')+'</td><td><b>'+d.db+'%</b></td><td>'+arrow(d.dbDiff,' pp')+'</td><td>'+fmt(d.kunder)+'</td><td>'+arrow(d.kunderPct,'%')+'</td><td>'+d.krKunde+' kr</td><td>'+d.kampanjePct+'%</td></tr>';}).join('');
  var hbars=KEYS.map(function(k){var d=STORES[k];var w=Math.round(d.salg/maxSalg*100);return '<div class="hbar-row"><div class="hbar-label">'+d.name+'</div><div class="hbar-track"><div class="hbar-fill" style="width:'+w+'%;background:'+d.color+'">'+fmt(d.salg)+'</div></div></div>';}).join('');
  var maxAbs=0; for(var i=0;i<KEYS.length;i++){var a=Math.abs(STORES[KEYS[i]].salgPct);if(a>maxAbs)maxAbs=a;}
  var tbars=KEYS.map(function(k){var d=STORES[k];var pct=d.salgPct;var bw=Math.round(Math.abs(pct)/maxAbs*46);var pos=pct>=0;var left=pos?50:50-bw;return '<div class="trend-row"><div class="trend-label">'+d.name+'</div><div class="trend-track"><div class="trend-zero" style="left:50%"></div><div class="trend-bar" style="left:'+left+'%;width:'+bw+'%;background:'+(pos?'#2d7a50':'#e63946')+'">'+(bw>8?pct.toFixed(1)+'%':'')+'</div></div><div class="trend-val '+(pos?'up':'dn')+'">'+pct.toFixed(1)+'%</div></div>';}).join('');
  var allProducts=[];
  for(var i=0;i<KEYS.length;i++){var d=STORES[KEYS[i]];for(var j=0;j<d.top10.length;j++){allProducts.push([d.top10[j][0],d.top10[j][1],d.top10[j][2],d.name,d.color]);}}
  allProducts.sort(function(a,b){return b[2]-a[2];});
  var top10All={top10:allProducts.slice(0,10).map(function(p){return [p[0]+' ('+p[3]+')',p[1],p[2]];})};
  return '<div class="card"><h4>Sammenligning &ndash; alle butikker &middot; Uke 8, 2026</h4><div style="overflow-x:auto"><table><thead><tr><th>Butikk</th><th>Salg</th><th>Salg +/-</th><th>DB %</th><th>DB +/-</th><th>Kunder</th><th>Kunder +/-</th><th>Kr/kunde</th><th>Kampanje</th></tr></thead><tbody>'+rows+'<tr class="avg-row"><td>Snitt</td><td>'+fmt(avg)+'</td><td colspan="7"></td></tr></tbody></table></div></div><div class="two-col"><div class="card"><h4>Salg per butikk (kr)</h4><div class="hbar-chart">'+hbars+'</div></div><div class="card"><h4>Salgsendring vs. fjoråret</h4><div class="trend-chart">'+tbars+'</div></div></div>'+top10Box(top10All);
}

function render(active){
  document.getElementById('mainContent').innerHTML = active==='Sammenligning' ? compareView() : storeView(active);
  document.querySelectorAll('.tab').forEach(function(b){b.classList.toggle('active',b.dataset.tab===active);});
}

var tabBar=document.getElementById('tabBar');
var allTabs=['Sammenligning'].concat(KEYS);
allTabs.forEach(function(t){
  var btn=document.createElement('button');
  btn.className='tab'; btn.dataset.tab=t;
  btn.textContent=t==='Sammenligning'?t:STORES[t].name;
  if(t!=='Sammenligning') btn.style.borderLeft='3px solid '+STORES[t].color;
  btn.onclick=function(){render(t);};
  tabBar.appendChild(btn);
});

document.getElementById('todayDate').textContent=new Date().toLocaleDateString('nb-NO',{weekday:'long',year:'numeric',month:'long',day:'numeric'})+' \u00b7 Uke 8, 2026';
render('Sammenligning');
</script>
</body>
</html>
